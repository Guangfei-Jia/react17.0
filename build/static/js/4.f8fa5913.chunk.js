(this.webpackJsonpreact17=this.webpackJsonpreact17||[]).push([[4],{109:function(e,t,n){"use strict";n.r(t);var a=n(95),r=n.n(a),c=n(126),s=n(71),i=n(0),u=n(67),o=n(322),l=n(323),b=n(318),j=n(172),d=n(45),p=n(305),f=n(320),O=n(321),m=n(112),h=n(290),x=function(){var e=Object(i.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1],r=Object(i.useState)(!1),c=Object(s.a)(r,2),u=c[0],o=c[1];return{visible:n,confirmLoading:u,showModal:function(e){a(!0),"function"===typeof e&&e()},handleCancel:function(e){a(!1),"function"===typeof e&&e()},handleOk:function(e){o(!0),setTimeout((function(){a(!1),o(!1)}),2e3)}}},y=n(108),k=n(7);t.default=function(){var e=Object(h.a)("post",m.c.list,{}),t=e.data,n=e.isLoading,a=e.isError,i=(e.setUrl,e.setQuery),v=x(),w=v.visible,C=v.confirmLoading,g=v.showModal,S=v.handleCancel,F=(v.handleOk,u.a.useForm()),L=Object(s.a)(F,1)[0],T=u.a.useForm(),I=Object(s.a)(T,1)[0],E=function(){var e=Object(c.a)(r.a.mark((function e(t){return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(y.a)(m.c.delete,{id:t.id});case 2:i({});case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),A=[{title:"\u521b\u5efa\u65f6\u95f4",dataIndex:"updatedAt",key:"updatedAt",width:"20%"},{title:"\u89d2\u8272\u540d\u79f0",dataIndex:"name",key:"name"},{title:"\u64cd\u4f5c",key:"action",width:"18%",render:function(e,t){return Object(k.jsxs)(o.b,{size:"middle",children:[Object(k.jsx)("a",{children:"\u6388\u6743"}),Object(k.jsx)("a",{onClick:function(){return function(e){g((function(){L.setFieldsValue({name:e.name})}))}(t)},children:"\u7f16\u8f91"}),Object(k.jsx)(l.a,{title:"\u786e\u5b9a\u5220\u9664\uff1f",onConfirm:function(){return E(t)},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88",children:Object(k.jsx)("a",{href:"#",children:"\u5220\u9664"})})]})}}],B=function(){var e=Object(c.a)(r.a.mark((function e(){var t;return r.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,I.validateFields();case 2:t=e.sent,i(t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return a?Object(k.jsx)("div",{children:"error"}):Object(k.jsxs)(k.Fragment,{children:[Object(k.jsx)(b.a,{style:{marginBottom:"10px"},children:Object(k.jsxs)(u.a,{name:"basic",form:I,layout:"inline",labelCol:{span:8},wrapperCol:{span:16},onFinish:B,autoComplete:"off",children:[Object(k.jsx)(u.a.Item,{label:"\u89d2\u8272\u540d\u79f0",name:"name",children:Object(k.jsx)(j.a,{placeholder:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0"})}),Object(k.jsx)(d.a,{type:"primary",htmlType:"submit",style:{margin:"0 8px"},children:"\u67e5\u8be2"}),Object(k.jsx)(d.a,{type:"primary",onClick:function(){I.resetFields(),i({})},children:"\u91cd\u7f6e"})]})}),Object(k.jsx)(d.a,{type:"primary",style:{marginBottom:"10px"},onClick:function(){return g()},children:"\u65b0\u589e"}),Object(k.jsx)(p.a,{spinning:n,tip:"\u52a0\u8f7d\u4e2d...",delay:500,children:Object(k.jsx)(f.a,{columns:A,rowKey:"id",dataSource:t})}),Object(k.jsx)(O.a,{title:"Title",visible:w,onOk:B,confirmLoading:C,onCancel:function(){return S()},children:Object(k.jsx)(u.a,{preserve:!1,form:L,name:"basic",labelCol:{span:6},wrapperCol:{span:18},autoComplete:"off",children:Object(k.jsx)(u.a.Item,{label:"name",name:"name",rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u89d2\u8272\u540d\u79f0!"}],children:Object(k.jsx)(j.a,{})})})})]})}},290:function(e,t,n){"use strict";var a=n(95),r=n.n(a),c=n(126),s=n(71),i=n(108),u=n(0);t.a=function(e,t,n){var a=Object(u.useState)([]),o=Object(s.a)(a,2),l=o[0],b=o[1],j=Object(u.useState)(t),d=Object(s.a)(j,2),p=d[0],f=d[1],O=Object(u.useState)(n),m=Object(s.a)(O,2),h=m[0],x=m[1],y=Object(u.useState)(!1),k=Object(s.a)(y,2),v=k[0],w=k[1],C=Object(u.useState)(!1),g=Object(s.a)(C,2),S=g[0],F=g[1];return Object(u.useEffect)((function(){(function(){var t=Object(c.a)(r.a.mark((function t(){var n;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:F(!1),w(!0),t.prev=2,t.t0=e,t.next="get"===t.t0?6:"post"===t.t0?10:"put"===t.t0?14:"delete"===t.t0?18:22;break;case 6:return t.next=8,Object(i.b)(p,h);case 8:return n=t.sent,t.abrupt("break",26);case 10:return t.next=12,Object(i.c)(p,h);case 12:return n=t.sent,t.abrupt("break",26);case 14:return t.next=16,Object(i.d)(p,h);case 16:return n=t.sent,t.abrupt("break",26);case 18:return t.next=20,Object(i.a)(p,h);case 20:return n=t.sent,t.abrupt("break",26);case 22:return t.next=24,Object(i.c)(p,h);case 24:return n=t.sent,t.abrupt("break",26);case 26:b(n.data.rows),t.next=32;break;case 29:t.prev=29,t.t1=t.catch(2),F(!0);case 32:w(!1);case 33:case"end":return t.stop()}}),t,null,[[2,29]])})));return function(){return t.apply(this,arguments)}})()()}),[p,h]),{data:l,isLoading:v,isError:S,setUrl:f,setQuery:x}}}}]);
//# sourceMappingURL=4.f8fa5913.chunk.js.map